<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>나만의 기사</title>
<link rel="stylesheet" th:href="@{/style.css}">
</head>
<body th:attr="data-user-id=${user != null ? user.id : ''}">

	<header class="site-header">
		<div class="header-inner">

			<h2 class="logo">
				<a href="/">news</a>
			</h2>

			<div class="header-right">
				<a th:if="${user == null}" href="javascript:void(0)"
					onclick="openSignupModal()">Signup</a> <a th:if="${user == null}"
					href="javascript:void(0)" onclick="openLoginModal()">Login</a> <span
					th:if="${user != null}" class="user-email" th:text="${user.email}">
				</span> <a th:if="${user != null}" href="/recommend">favorite</a> <a
					th:if="${user != null}" href="/logout">Logout</a>

			</div>

		</div>
	</header>

	<main class="container">
		<div th:replace="~{::content}"></div>
	</main>

	<footer class="site-footer" role="contentinfo">
		<div class="footer-inner">
			<p class="footer-text">본 서비스에 표시되는 기사/이미지의 저작권은 각 언론사 및 콘텐츠 제공자에게
				있으며, 본 서비스는 기사 링크 및 일부 정보(제목/요약 등)를 제공하는 목적입니다.</p>
			<p class="footer-sub">
				© <span th:text="${#dates.format(#dates.createNow(), 'yyyy')}">2026</span>
				news
			</p>
		</div>
	</footer>


	<div class="pagination" th:if="${totalPages != null}">
		<!-- 이전 10개 구간 -->
		<a th:if="${startPage > 0}"
			th:href="@{__${pagePath}__(page=${startPage - 1})}" class="page">«</a>

		<!-- 현재 구간 페이지들 -->
		<a th:each="i : ${#numbers.sequence(startPage, endPage)}"
			th:href="@{__${pagePath}__(page=${i})}" th:text="${i + 1}"
			class="page" th:classappend="${i == currentPage} ? 'active'"> </a>

		<!-- 다음 10개 구간 -->
		<a th:if="${endPage < totalPages - 1}"
			th:href="@{__${pagePath}__(page=${endPage + 1})}" class="page">»</a>
	</div>




	<!-- 로그인 모달 -->
	<div id="loginModal" class="modal hidden">
		<div class="modal-overlay" onclick="closeLoginModal()"></div>

		<div class="modal-content">
			<button class="modal-close" onclick="closeLoginModal()">×</button>
			<div th:replace="login :: content"></div>
		</div>
	</div>

	<!-- 회원가입 모달 -->
	<div id="signupModal" class="modal hidden">
		<div class="modal-overlay" onclick="closeSignupModal()"></div>

		<div class="modal-content">
			<button class="modal-close" onclick="closeSignupModal()">×</button>
			<div th:replace="signup :: content"></div>
		</div>
	</div>

</body>

<script>
	function openLoginModal() {
		document.getElementById("loginModal").classList.remove("hidden");
	}

	function closeLoginModal() {
		document.getElementById("loginModal").classList.add("hidden");
	}

	function openSignupModal() {
		document.getElementById("signupModal").classList.remove("hidden");
	}

	function closeSignupModal() {
		document.getElementById("signupModal").classList.add("hidden");
	}
</script>

</html>
